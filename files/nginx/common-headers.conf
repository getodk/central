# This file should be included in server{}, and also in any location{}
# which has a call to add_header.
# See: https://nginx.org/en/docs/http/ngx_http_headers_module.html#add_header

add_header Referrer-Policy same-origin;
add_header Strict-Transport-Security "max-age=63072000" always;
add_header X-Frame-Options "SAMEORIGIN";
add_header X-Content-Type-Options nosniff;

if ($cache_strategy = "immutable") {
  add_header Cache-Control max-age=31536000;
  add_header Vary Accept-Encoding;
}
if ($cache_strategy = "revalidate") {
  add_header Cache-Control no-cache;
  add_header Pragma no-cache;
  add_header Vary Accept-Encoding;
}
if ($cache_strategy = "single-use") {
  add_header Cache-Control no-store;
  add_header Pragma no-cache;
  add_header Vary "*";
}
